<!-- Extends the layout from /views/layout.html -->
{% extends 'default-layout.html' %}

<!-- Breadcrumbs -->
{% block beforeContent %}
{% endblock %}

<!-- Back link -->
{% block outerContent %}
{% endblock %}

<!-- Content -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-full">
      
      <span class="nhsuk-caption-xl">Mid-year review</span>
      <h1>Confirm if these are contracts with FM outstanding</h1>

      <!-- FILTER -->
      <div class="nhsuk-custom-search-filter-container">
        <div class="nhsuk-custom-search">
          <label class="nhsuk-u-visually-hidden" for="contract-search">Search contracts</label>
          <input class="nhsuk-search__input nhsuk-custom-search-input" id="contract-search" name="contract-search" type="search" placeholder="Search" autocomplete="off">
          <button class="nhsuk-search__submit nhsuk-custom-search-icon" type="submit">
            <svg class="nhsuk-icon nhsuk-custom-search-icon-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
              <path d="M19.71 18.29l-4.11-4.1a7 7 0 1 0-1.41 1.41l4.1 4.11a1 1 0 0 0 1.42 0 1 1 0 0 0 0-1.42zM5 10a5 5 0 1 1 5 5 5 5 0 0 1-5-5z"></path>
            </svg>
            <span class="nhsuk-u-visually-hidden">Search</span>
          </button>
        </div>
        <div class="nhsuk-custom-search-filter-text">
          <p id="expand-contract-filters" class="nhsuk-filter-text nhsuk-u-margin-bottom-0">Filters</p>
          <p id="close-contract-filters" class="nhsuk-filter-text nhsuk-u-margin-bottom-0" style="display: none;">Close filters</p>
          <p id="clear-contract-filters" class="nhsuk-filter-text nhsuk-u-margin-bottom-0 nhsuk-u-margin-left-4" style="display: none;">Clear filters</p>
        </div>
      </div>

      <div id="filter-contract-container" class="nhsuk-filter-container">
        <h2 class="nhsuk-heading-s">Filters</h2>

        <div class="nhsuk-grid-row nhsuk-filter-box">
          <div class="nhsuk-grid-column-one-quarter">
            <div class="nhsuk-form-group">
              <fieldset class="nhsuk-fieldset">
                <legend class="nhsuk-fieldset__legend">
                  Status of contracts
                </legend>
                <div class="nhsuk-checkboxes">
                  <div class="nhsuk-checkboxes__item">
                    <input class="nhsuk-checkboxes__input" id="contract-active-filter" name="contract-status" type="checkbox" value="active">
                    <label class="nhsuk-label nhsuk-checkboxes__label" for="contract-active-filter">
                      Not reviewed
                    </label>
                  </div>
                  <div class="nhsuk-checkboxes__item">
                    <input class="nhsuk-checkboxes__input" id="contract-completed-filter" name="contract-status" type="checkbox" value="completed">
                    <label class="nhsuk-label nhsuk-checkboxes__label" for="contract-completed-filter">
                      In progress
                    </label>
                  </div>
                  <div class="nhsuk-checkboxes__item">
                    <input class="nhsuk-checkboxes__input" id="contract-error-filter" name="contract-status" type="checkbox" value="error">
                    <label class="nhsuk-label nhsuk-checkboxes__label" for="contract-error-filter">
                      Reviewed
                    </label>
                  </div>
                </div>
              </fieldset>
            </div>
          </div>
          <div class="nhsuk-grid-column-one-quarter">
            <div class="nhsuk-form-group">
              <label class="nhsuk-label" for="contract-type-filter">
                Locality or specific ICB
              </label>
              <select class="nhsuk-select" id="contract-type-filter" name="contract-type-filter">
                <option value="1" selected>Select</option>
                <option value="2">Option 1</option>
                <option value="3">Option 2</option>
              </select>
            </div>
          </div>
          <div class="nhsuk-grid-column-one-quarter">
            <div class="nhsuk-form-group">
              <label class="nhsuk-label" for="provider-filter">
                Filter 3
              </label>
              <select class="nhsuk-select" id="provider-filter" name="provider-filter">
                <option value="1" selected>Select</option>
                <option value="2">Option 1</option>
                <option value="3">Option 2</option>
              </select>
            </div>
          </div>
        </div>

        <button id="apply-contract-button" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-bottom-0" data-module="nhsuk-button" type="submit">
          Apply filter
        </button>
      </div>

      <hr>

      <p class="nhsuk-body-l nhsuk-u-font-weight-bold">3 of 3 results</p>

      <table role="table" class="nhsuk-table-responsive">
        <caption class="nhsuk-u-visually-hidden">FM outstanding table</caption>
        <thead role="rowgroup" class="nhsuk-table__head">
          <tr role="row">
            <th role="columnheader" class="" scope="col">
              Contract ID
            </th>
            <th role="columnheader" class="" scope="col">
              Practice name
            </th>
            <th role="columnheader" class="" scope="col">
              Contract details
            </th>
            <th role="columnheader" class="" scope="col">
              BSA recommended subcategory
            </th>
            <th role="columnheader" class="" scope="col">
              Confirmed subcategory
            </th>
          </tr>
        </thead>
        <tbody class="nhsuk-table__body">
          <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract ID </span>1868560001
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Practice name </span>Bath Dental Practice
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract details </span><a href="#" class="nhsuk-link nhsuk-link--no-visited-state">View details</a>
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">BSA recommended subcategory </span>Category 2 - FM oustanding
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Confirmed subcategory </span>
              <div class="nhsuk-form-group input-max-9">
                <label class="nhsuk-u-visually-hidden" for="subcategory-1">
                  Confirmed subcategory
                </label>
                <select class="nhsuk-select" id="subcategory-1" name="subcategory-1">
                  <option value="1" selected>Category 2 - FM oustanding</option>
                  <option value="2">Option 2</option>
                  <option value="3">Option 3</option>
                </select>
              </div>
            </td>
          </tr>
          <!-- NOTES -->
          <tr>
            <td colspan="5" class="nhsuk-u-padding-top-0">
              <div class="nhsuk-form-group nhsuk-u-margin-bottom-0">
                <label class="nhsuk-u-visually-hidden" for="notes-1">
                  Enter 1868560001's category 2 notes
                </label>
                <input class="nhsuk-input" id="notes-1" name="notes-1" type="text" placeholder="Enter 1868560001's category two notes here">
              </div>
            </td>
          </tr>
          <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract ID </span>1868560002
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Practice name </span>Bath Dental Practice
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract details </span><a href="#" class="nhsuk-link nhsuk-link--no-visited-state">View details</a>
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">BSA recommended subcategory </span>Category 2 - FM oustanding
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Confirmed subcategory </span>
              <div class="nhsuk-form-group input-max-9">
                <label class="nhsuk-u-visually-hidden" for="subcategory-2">
                  Confirmed subcategory
                </label>
                <select class="nhsuk-select" id="subcategory-2" name="subcategory-2">
                  <option value="1" selected>Category 2 - FM oustanding</option>
                  <option value="2">Option 2</option>
                  <option value="3">Option 3</option>
                </select>
              </div>
            </td>
          </tr>
          <!-- NOTES -->
          <tr>
            <td colspan="5" class="nhsuk-u-padding-top-0">
              <div class="nhsuk-form-group nhsuk-u-margin-bottom-0">
                <label class="nhsuk-u-visually-hidden" for="notes-2">
                  Enter 1868560002's category 2 notes
                </label>
                <input class="nhsuk-input" id="notes-2" name="notes-2" type="text" placeholder="Enter 1868560002's category two notes here">
              </div>
            </td>
          </tr>
          <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract ID </span>1868560003
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Practice name </span>Bath Dental Practice
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Contract details </span><a href="#" class="nhsuk-link nhsuk-link--no-visited-state">View details</a>
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">BSA recommended subcategory </span>Category 2 - FM oustanding
            </td>
            <td role="cell" class="nhsuk-table__cell border-bottom-none">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Confirmed subcategory </span>
              <div class="nhsuk-form-group input-max-9">
                <label class="nhsuk-u-visually-hidden" for="subcategory-3">
                  Confirmed subcategory
                </label>
                <select class="nhsuk-select" id="subcategory-3" name="subcategory-3">
                  <option value="1" selected>Category 2 - FM oustanding</option>
                  <option value="2">Option 2</option>
                  <option value="3">Option 3</option>
                </select>
              </div>
            </td>
          </tr>
          <!-- NOTES -->
          <tr>
            <td colspan="5" class="nhsuk-u-padding-top-0">
              <div class="nhsuk-form-group nhsuk-u-margin-bottom-0">
                <label class="nhsuk-u-visually-hidden" for="notes-3">
                  Enter 1868560003's category 2 notes
                </label>
                <input class="nhsuk-input" id="notes-3" name="notes-3" type="text" placeholder="Enter 1868560003's category two notes here">
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <!-- CTAs -->
      <div class="nhsuk-button-group nhsuk-u-margin-top-6">
        <a id="Review contract subcategories" href="/categorisation/categorisation2-filter" class="nhsuk-button nhsuk-u-margin-bottom-0" data-module="nhsuk-button" type="submit">
          Save and mark all contracts as reviewed
        </a>
        <button class="nhsuk-button nhsuk-button--secondary" data-module="nhsuk-button" type="submit">
          Save progress and exit
        </button>
      </div>

    </div>
  </div>
{% endblock %}

{% block pageScripts %}
  <script>
    const filterContractExpand = document.getElementById('expand-contract-filters');
    const filterContractClose = document.getElementById('close-contract-filters');
    const filterContractContainer = document.getElementById('filter-contract-container');
    const filterContractButton = document.getElementById('apply-contract-button');
    const filterContractClear = document.getElementById('clear-contract-filters');

    function filterContractExpandFunction(item) { 
      if(item == 'expand') {
        filterContractExpand.style.display = 'none';
        filterContractClose.style.display = 'block';
        filterContractContainer.style.display = 'block';
      } else {
        filterContractExpand.style.display = 'block';
        filterContractClose.style.display = 'none';
        filterContractContainer.style.display = 'none';
      }
    }

    function contractClearFilterText(item) { 
      if(item == 'filtersActive') {
        filterContractClear.style.display = 'block';
      } else {
        filterContractClear.style.display = 'none';
        document.getElementById("contract-active-filter").checked = false;
        document.getElementById("contract-completed-filter").checked = false;
        document.getElementById("contract-error-filter").checked = false;
        document.getElementById("contract-type-filter").selectedIndex = 0;
        document.getElementById("provider-filter").selectedIndex = 0;
      }
    }

    filterContractExpand.addEventListener('click', ()=>{
      filterContractExpandFunction('expand');
    });

    filterContractClose.addEventListener('click', ()=>{
      filterContractExpandFunction();
    });

    filterContractButton.addEventListener('click', ()=>{
      contractClearFilterText('filtersActive');
    });


    filterContractClear.addEventListener('click', ()=>{
      contractClearFilterText();
    });
    
  </script>
{% endblock %}