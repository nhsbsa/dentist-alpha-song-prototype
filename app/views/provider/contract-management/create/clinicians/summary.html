<!-- Use this page as the index for your project -->

<!-- ADDING CUSTOM CSS - Add your custom CSS or Sass in /app/assets/sass/main.scss -->

<!-- Extends the layout from /views/layout.html -->
{% extends 'default-layout.html' %}

<!-- Set the page title -->
{% block pageTitle %}
  Create Contract
{% endblock %}

<!-- Breadcrumbs -->
{% block beforeContent %}
{% endblock %}

<!-- Back link -->
{% block outerContent %}
  <div class="nhsuk-back-link nhsuk-u-padding-top-3 nhsuk-u-margin-bottom-0">
    <a class="nhsuk-back-link__link" href="/provider/contract-management/create/clinicians/new-clinician-2">
      <svg class="nhsuk-icon nhsuk-icon__chevron-left" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" height="24" width="24">
        <path d="M8.5 12c0-.3.1-.5.3-.7l5-5c.4-.4 1-.4 1.4 0s.4 1 0 1.4L10.9 12l4.3 4.3c.4.4.4 1 0 1.4s-1 .4-1.4 0l-5-5c-.2-.2-.3-.4-.3-.7z"></path>
      </svg>
      Back
    </a>
  </div>
{% endblock %}

<!-- Content -->
{% block content %}
  <div class="nhsuk-grid-row">
    <div class="nhsuk-grid-column-two-thirds">
      <h1>
        Clinicians
      </h1>

      <table role="table" class="nhsuk-table-responsive">
        <caption class="nhsuk-u-visually-hidden">Clinicians table</caption>
        <thead role="rowgroup" class="nhsuk-table__head">
          <tr role="row">
            <th role="columnheader" class="" scope="col">
              Name
            </th>
            <th role="columnheader" class="" scope="col">
              Clinician ID
            </th>
            <th role="columnheader" class="" scope="col">
              Start Date
            </th>
            <th role="columnheader" class="" scope="col">
              End Date
            </th>
            <th role="columnheader" class="" scope="col">
              Status
            </th>
            <th role="columnheader" class="" scope="col">
              Type
            </th>
            <th role="columnheader" class="" scope="col">
              Opted into pension?
            </th>
            <th role="columnheader" class="" scope="col">
              <span class="nhsuk-u-visually-hidden">Action</span>
            </th>
          </tr>
        </thead>
        <tbody class="nhsuk-table__body">
          <tr role="row" class="nhsuk-table__row">
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Name </span>Ella Purnell
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Clinician ID </span>12034
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Start date </span>01/04/06
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">End date </span>31/05/06
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Status </span>Active
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Type </span>DCP
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Opted into pension? </span>Yes
            </td>
            <td role="cell" class="nhsuk-table__cell">
              <span class="nhsuk-table-responsive__heading" aria-hidden="true">Action </span>
              <a class="nhsuk-link--no-visited-state" href="#">Edit</a>
            </td>
          </tr>
        </tbody>
      </table>

      <a href="#" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-top-4" data-module="nhsuk-button" type="submit">
        Add another Clinician
      </a>

      <h2>Declaration</h2>

      <p>I have reviewed my answers and confirm that the information provided is correct to the best of my knowledge</p>

      <form class="nhsuk-u-margin-top-4">
        <div class="nhsuk-form-group">
          <fieldset class="nhsuk-fieldset">
            <legend class="nhsuk-u-visually-hidden">
              I confirm the above is correct 
            </legend>
      
            <div class="nhsuk-checkboxes">
              <div class="nhsuk-checkboxes__item">
                <input class="nhsuk-checkboxes__input" id="information-correct-chk" name="information-correct-chk" type="checkbox" value="yes">
                <label class="nhsuk-label nhsuk-checkboxes__label" for="information-correct-chk">
                  I confirm
                </label>
              </div>
            </div>
          </fieldset>
        </div>
      </form>

      <div id="q2" style="display: none;">
        <ul class="nhsuk-list nhsuk-list--bullet">
          <li>All Clinicians are included on, and not suspended from, the NHS England Performer List</li>
          <li>All Clinicians are included on, and not suspended from, the GDC register</li>
          <li>All Clinicians have the necessary clinical experience and training to enable them to adequately perform clinical services</li>
          <li>All Clinicians have the necessary clinical experience and training to enable them to adequately perform clinical services</li>
          <li>Indemnity cover for all Clinicians has been verified, commensurate with the level and type of clinical services to be performed</li>
          <li>All Clinicians have provided written confirmation of Hepatitis B and C, TB, HIV and other appropriate immunisations </li>
        </ul>
  
        <form class="nhsuk-u-margin-top-4">
          <div class="nhsuk-form-group">
            <fieldset class="nhsuk-fieldset">
              <legend class="nhsuk-u-visually-hidden">
                I confirm the above is correct 
              </legend>
        
              <div class="nhsuk-checkboxes">
                <div class="nhsuk-checkboxes__item">
                  <input class="nhsuk-checkboxes__input" id="clinicians-correct-chk" name="clinicians-correct-chk" type="checkbox" value="yes">
                  <label class="nhsuk-label nhsuk-checkboxes__label" for="clinicians-correct-chk">
                    I confirm the above is correct for all newly assigned Clinicians to the contract
                  </label>
                </div>
              </div>
            </fieldset>
          </div>
        </form>
      </div>
      
      <div id="q3" class="nhsuk-form-group" style="display: none;">
        <fieldset class="nhsuk-fieldset">
          <legend class="nhsuk-fieldset__legend">
            Are any of the new Clinicians registered with conditions or have any agreed undertakings on the NHS England Performer List or GDC register?
          </legend>
      
          <div class="nhsuk-radios">
            <div class="nhsuk-radios__item">
              <input class="nhsuk-radios__input" id="registered-1" name="registered" type="radio" value="yes">
              <label class="nhsuk-label nhsuk-radios__label" for="registered-1">
                Yes
              </label>
            </div>
      
            <div class="nhsuk-radios__item">
              <input class="nhsuk-radios__input" id="registered-2" name="registered" type="radio" value="no">
              <label class="nhsuk-label nhsuk-radios__label" for="registered-2">
                No
              </label>
            </div>
          </div>
        </fieldset>
      </div>

      <div id="q4" class="nhsuk-u-margin-top-4" style="display: none;">
        <p>I will ensure compliance with these conditions stated on NHS England Performer List or GDC register for all relevant Clinicians</p>

        <form>
          <div class="nhsuk-form-group">
            <fieldset class="nhsuk-fieldset">
              <legend class="nhsuk-u-visually-hidden">
                I confirm the above is correct 
              </legend>
        
              <div class="nhsuk-checkboxes">
                <div class="nhsuk-checkboxes__item">
                  <input class="nhsuk-checkboxes__input" id="compliance-correct-chk" name="compliance-correct-chk" type="checkbox" value="yes">
                  <label class="nhsuk-label nhsuk-checkboxes__label" for="compliance-correct-chk">
                    I confirm
                  </label>
                </div>
              </div>
            </fieldset>
          </div>
        </form>
      </div>

      <div id="q5" class="nhsuk-form-group" style="display: none;">
        <label class="nhsuk-label" for="conditions">
          Describe all conditions or undertakings stated on NHS England Performer List or GDC register for Clinicians newly assigned to contract.
        </label>
        <textarea class="nhsuk-textarea" id="conditions" name="conditions" rows="5"></textarea>
      </div>

      <div class="nhsuk-button-group nhsuk-u-margin-top-6">
        <a id="submit" href="#" class="nhsuk-button nhsuk-u-margin-bottom-0" data-module="nhsuk-button" type="submit" disabled>
          Submit for approval
        </a>
        <a href="/provider/contract-management/create/start-create-contract" class="nhsuk-button nhsuk-button--secondary nhsuk-u-margin-bottom-0" data-module="nhsuk-button" type="submit">
          Save and exit
        </a>
        <a href="/provider/contract-management/create/start-create-contract" class="nhsuk-link nhsuk-link--no-visited-state">Cancel</a>
      </div>

    </div>
  </div>
{% endblock %}

{% block pageScripts %}
  <script>
    const d1 = document.getElementById('information-correct-chk');
    const q2 = document.getElementById('q2');
    const d2 = document.getElementById('clinicians-correct-chk');
    const q3 = document.getElementById('q3');
    const d3O1 = document.getElementById('registered-1');
    const d3O2 = document.getElementById('registered-2');
    const q4 = document.getElementById('q4');
    const d4 = document.getElementById('compliance-correct-chk');
    const q5 = document.getElementById('q5');
    const d5 = document.getElementById('conditions');
    const nextSection = document.getElementById('submit');
    let hasNewClinician = localStorage['hasNewClinician'];

    d1.addEventListener('click', ()=>{
      q2.style.display = 'block';
    });

    d2.addEventListener('click', ()=>{
      q3.style.display = 'block';
    });

    d3O1.addEventListener('click', ()=>{
      q4.style.display = 'block';
    });

    d3O2.addEventListener('click', ()=>{
      q4.style.display = 'block';
    });

    d4.addEventListener('click', ()=>{
      q5.style.display = 'block';
    });

    d5.addEventListener('change', ()=>{
      nextSection.removeAttribute("disabled");
    });
    
    nextSection.addEventListener('click', ()=>{
      localStorage['hasNewClinician'] = 'Yes';
    });
  </script>
{% endblock %} 